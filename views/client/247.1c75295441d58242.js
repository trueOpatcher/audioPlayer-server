"use strict";(self.webpackChunkmyFirstWeb=self.webpackChunkmyFirstWeb||[]).push([[247],{3247:(y,c,l)=>{l.r(c),l.d(c,{AuthModule:()=>q});var f=l(6019),n=l(9133),p=l(6758),g=l(1382),o=l(3668),h=l(2780),v=l(7079),_=l(1063);function w(e,i){1&e&&(o.TgZ(0,"div",5),o._UZ(1,"app-loading-spinner"),o.qZA())}function x(e,i){1&e&&(o.TgZ(0,"div",18),o._uU(1," User Name is required "),o.qZA())}function A(e,i){if(1&e&&(o.TgZ(0,"div",8),o.TgZ(1,"label",16),o._uU(2,"User name"),o.qZA(),o._UZ(3,"input",17),o.YNc(4,x,2,0,"div",11),o.qZA()),2&e){const t=o.oxw(2);o.xp6(4),o.Q6J("ngIf",(null==t.userName||null==t.userName.errors?null:t.userName.errors.required)&&((null==t.userName?null:t.userName.touched)||(null==t.userName?null:t.userName.dirty)))}}function Z(e,i){1&e&&(o.TgZ(0,"div",18),o._uU(1," Email is required "),o.qZA())}function C(e,i){1&e&&(o.TgZ(0,"div",18),o._uU(1," Email is incorrect "),o.qZA())}function P(e,i){1&e&&(o.TgZ(0,"div",18),o._uU(1," Password is required "),o.qZA())}function N(e,i){1&e&&(o.TgZ(0,"div",18),o._uU(1," Password should be min 7 characters "),o.qZA())}function T(e,i){1&e&&(o.TgZ(0,"div",18),o._uU(1," Field isn't equal to password "),o.qZA())}function b(e,i){if(1&e&&(o.TgZ(0,"div",8),o.TgZ(1,"label",19),o._uU(2,"Confirm Password"),o.qZA(),o._UZ(3,"input",20),o.YNc(4,T,2,0,"div",11),o.qZA()),2&e){const t=o.oxw(2);o.xp6(4),o.Q6J("ngIf",(null==t.confirmPassword||null==t.confirmPassword.errors?null:t.confirmPassword.errors.confirmPassword)&&((null==t.confirmPassword?null:t.confirmPassword.touched)||(null==t.confirmPassword?null:t.confirmPassword.dirty)))}}function I(e,i){if(1&e){const t=o.EpF();o.TgZ(0,"form",6),o.NdJ("ngSubmit",function(){return o.CHM(t),o.oxw().onSubmit()}),o.YNc(1,A,5,1,"div",7),o.TgZ(2,"div",8),o.TgZ(3,"label",9),o._uU(4,"Email"),o.qZA(),o._UZ(5,"input",10),o.YNc(6,Z,2,0,"div",11),o.YNc(7,C,2,0,"div",11),o.qZA(),o.TgZ(8,"div",8),o.TgZ(9,"label",12),o._uU(10,"Password"),o.qZA(),o._UZ(11,"input",13),o.YNc(12,P,2,0,"div",11),o.YNc(13,N,2,0,"div",11),o.qZA(),o.YNc(14,b,5,1,"div",7),o.TgZ(15,"div",14),o.TgZ(16,"div"),o.TgZ(17,"button",15),o._uU(18,"Submit"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const t=o.oxw();o.Q6J("formGroup",t.authForm),o.xp6(1),o.Q6J("ngIf",t.signMode),o.xp6(5),o.Q6J("ngIf",(null==t.email||null==t.email.errors?null:t.email.errors.required)&&((null==t.email?null:t.email.touched)||(null==t.email?null:t.email.dirty))),o.xp6(1),o.Q6J("ngIf",(null==t.email||null==t.email.errors?null:t.email.errors.pattern)&&((null==t.email?null:t.email.touched)||(null==t.email?null:t.email.dirty))),o.xp6(5),o.Q6J("ngIf",(null==t.password||null==t.password.errors?null:t.password.errors.required)&&((null==t.password?null:t.password.touched)||(null==t.password?null:t.password.dirty))),o.xp6(1),o.Q6J("ngIf",(null==t.password||null==t.password.errors?null:t.password.errors.minlength)&&((null==t.password?null:t.password.touched)||(null==t.password?null:t.password.dirty))),o.xp6(1),o.Q6J("ngIf",t.signMode),o.xp6(3),o.Q6J("disabled",!t.authForm.valid)}}let M=(()=>{class e{constructor(t,r,s){this.router=t,this.realmAuthService=r,this.authService=s,this.authForm=new n.cw({email:new n.NI(null,[n.kI.required,n.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),password:new n.NI(null,[n.kI.required,n.kI.minLength(7)]),userName:new n.NI(null,n.kI.required),confirmPassword:new n.NI(null,n.kI.required)}),this.signMode=!1,this.loading=!1,this.error=""}get userName(){return this.authForm.get("userName")}get email(){return this.authForm.get("email")}get password(){return this.authForm.get("password")}get confirmPassword(){return this.authForm.get("confirmPassword")}matchingValidator(){return t=>{var r;let s=t.value,a=null===(r=this.password)||void 0===r?void 0:r.value;return s&&a!==s?{confirmPassword:!0}:null}}ngOnInit(){this.realmAuthService.signMode.subscribe(t=>{var r,s,a,u,d,m;this.authForm.reset(),this.signMode=t,!1===this.signMode?(null===(r=this.userName)||void 0===r||r.clearValidators(),null===(s=this.confirmPassword)||void 0===s||s.clearValidators()):(null===(a=this.userName)||void 0===a||a.setValidators([n.kI.required]),null===(u=this.confirmPassword)||void 0===u||u.setValidators([this.matchingValidator()])),null===(d=this.userName)||void 0===d||d.updateValueAndValidity(),null===(m=this.confirmPassword)||void 0===m||m.updateValueAndValidity()})}onSubmit(){if(!this.authForm.valid)return;const t=this.authForm.value.email,r=this.authForm.value.password,s=this.authForm.value.userName;this.loading=!0,this.realmAuthService.signMode.getValue()?this.realmAuthService.signUp(t,r,s).subscribe({next:a=>{console.log("signUp"),this.realmAuthService.authStatus.next(!0),this.loading=!1,this.router.navigate(["/pages"])},error:a=>{console.log(a),this.loading=!1}}):this.realmAuthService.login(t,r).subscribe({next:()=>{this.loading=!1,this.realmAuthService.authStatus.next(!0),this.router.navigate(["/pages"])},error:a=>{this.loading=!1,console.log(a)}})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(p.F0),o.Y36(h.t),o.Y36(v.e))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-auth"]],decls:5,vars:2,consts:[[1,"container","center"],[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["class","centerPosition",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"centerPosition"],[3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email",1,"neonText"],["type","email","formControlName","email","id","name",1,"form-control"],["class","error",4,"ngIf"],["for","password",1,"neonText"],["type","password","formControlName","password","id","password",1,"form-control"],[1,"bottomContent"],["type","submit",1,"font",3,"disabled"],["for","userName",1,"neonText"],["type","text","formControlName","userName","id","userName",1,"form-control"],[1,"error"],["for","confirmPassword",1,"neonText"],["type","password","formControlName","confirmPassword","id","confirmPassword",1,"form-control"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.YNc(3,w,2,0,"div",3),o.YNc(4,I,19,8,"form",4),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(3),o.Q6J("ngIf",r.loading),o.xp6(1),o.Q6J("ngIf",!r.loading))},directives:[f.O5,_.g,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u],styles:[".row[_ngcontent-%COMP%]{justify-content:space-around}.form-group[_ngcontent-%COMP%]{margin-top:2vh}.centerPosition[_ngcontent-%COMP%]{margin:0 -50% 0 0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.error[_ngcontent-%COMP%]{padding-top:5px;color:#c21616;text-shadow:0 0 5px,0 0 10px;font-size:.9rem}input[_ngcontent-%COMP%]{margin-top:1vh}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{box-shadow:0 0 5px red,0 0 10px red}.container[_ngcontent-%COMP%]{margin-top:5rem}a[_ngcontent-%COMP%]{cursor:pointer;color:#fff}.center[_ngcontent-%COMP%]{margin:0 -50% 0 0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.bottomContent[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.font[_ngcontent-%COMP%]{font-family:pacifico,sans-serif;text-shadow:0 0 5px #e60073}button[_ngcontent-%COMP%]{margin-top:2vh;padding:0;cursor:pointer;font-size:1.2rem;font-weight:400;border:0;background-color:#0a0a0a;color:#fff;pointer-events:all}button[_ngcontent-%COMP%]:disabled{color:gray;text-shadow:none;cursor:none;pointer-events:none}button[_ngcontent-%COMP%]:hover{text-shadow:0 0 5px #e60073,0 0 10px #e60073,0 0 15px #e60073}"]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[f.ez,p.Bz.forChild([{path:"",component:M}]),n.UX,g.m]]}),e})()}}]);