"use strict";(self.webpackChunkmyFirstWeb=self.webpackChunkmyFirstWeb||[]).push([[247],{3247:(M,c,l)=>{l.r(c),l.d(c,{AuthModule:()=>I});var f=l(6019),n=l(9133),p=l(6758),g=l(1382),o=l(3668),h=l(2780),v=l(1063);function _(t,i){1&t&&(o.TgZ(0,"div",5),o._UZ(1,"app-loading-spinner"),o.qZA())}function w(t,i){1&t&&(o.TgZ(0,"div",18),o._uU(1," User Name is required "),o.qZA())}function x(t,i){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"label",16),o._uU(2,"User name"),o.qZA(),o._UZ(3,"input",17),o.YNc(4,w,2,0,"div",11),o.qZA()),2&t){const e=o.oxw(2);o.xp6(4),o.Q6J("ngIf",(null==e.userName||null==e.userName.errors?null:e.userName.errors.required)&&((null==e.userName?null:e.userName.touched)||(null==e.userName?null:e.userName.dirty)))}}function A(t,i){1&t&&(o.TgZ(0,"div",18),o._uU(1," Email is required "),o.qZA())}function Z(t,i){1&t&&(o.TgZ(0,"div",18),o._uU(1," Email is incorrect "),o.qZA())}function C(t,i){1&t&&(o.TgZ(0,"div",18),o._uU(1," Password is required "),o.qZA())}function P(t,i){1&t&&(o.TgZ(0,"div",18),o._uU(1," Password should be min 7 characters "),o.qZA())}function N(t,i){1&t&&(o.TgZ(0,"div",18),o._uU(1," Field isn't equal to password "),o.qZA())}function T(t,i){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"label",19),o._uU(2,"Confirm Password"),o.qZA(),o._UZ(3,"input",20),o.YNc(4,N,2,0,"div",11),o.qZA()),2&t){const e=o.oxw(2);o.xp6(4),o.Q6J("ngIf",(null==e.confirmPassword||null==e.confirmPassword.errors?null:e.confirmPassword.errors.confirmPassword)&&((null==e.confirmPassword?null:e.confirmPassword.touched)||(null==e.confirmPassword?null:e.confirmPassword.dirty)))}}function b(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"form",6),o.NdJ("ngSubmit",function(){return o.CHM(e),o.oxw().onSubmit()}),o.YNc(1,x,5,1,"div",7),o.TgZ(2,"div",8),o.TgZ(3,"label",9),o._uU(4,"Email"),o.qZA(),o._UZ(5,"input",10),o.YNc(6,A,2,0,"div",11),o.YNc(7,Z,2,0,"div",11),o.qZA(),o.TgZ(8,"div",8),o.TgZ(9,"label",12),o._uU(10,"Password"),o.qZA(),o._UZ(11,"input",13),o.YNc(12,C,2,0,"div",11),o.YNc(13,P,2,0,"div",11),o.qZA(),o.YNc(14,T,5,1,"div",7),o.TgZ(15,"div",14),o.TgZ(16,"div"),o.TgZ(17,"button",15),o._uU(18,"Submit"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("formGroup",e.authForm),o.xp6(1),o.Q6J("ngIf",e.signMode),o.xp6(5),o.Q6J("ngIf",(null==e.email||null==e.email.errors?null:e.email.errors.required)&&((null==e.email?null:e.email.touched)||(null==e.email?null:e.email.dirty))),o.xp6(1),o.Q6J("ngIf",(null==e.email||null==e.email.errors?null:e.email.errors.pattern)&&((null==e.email?null:e.email.touched)||(null==e.email?null:e.email.dirty))),o.xp6(5),o.Q6J("ngIf",(null==e.password||null==e.password.errors?null:e.password.errors.required)&&((null==e.password?null:e.password.touched)||(null==e.password?null:e.password.dirty))),o.xp6(1),o.Q6J("ngIf",(null==e.password||null==e.password.errors?null:e.password.errors.minlength)&&((null==e.password?null:e.password.touched)||(null==e.password?null:e.password.dirty))),o.xp6(1),o.Q6J("ngIf",e.signMode),o.xp6(3),o.Q6J("disabled",!e.authForm.valid)}}let q=(()=>{class t{constructor(e,r){this.router=e,this.realmAuthService=r,this.authForm=new n.cw({email:new n.NI(null,[n.kI.required,n.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),password:new n.NI(null,[n.kI.required,n.kI.minLength(7)]),userName:new n.NI(null,n.kI.required),confirmPassword:new n.NI(null,n.kI.required)}),this.signMode=!1,this.loading=!1,this.error=""}get userName(){return this.authForm.get("userName")}get email(){return this.authForm.get("email")}get password(){return this.authForm.get("password")}get confirmPassword(){return this.authForm.get("confirmPassword")}matchingValidator(){return e=>{var r;let a=e.value,s=null===(r=this.password)||void 0===r?void 0:r.value;return a&&s!==a?{confirmPassword:!0}:null}}ngOnInit(){this.realmAuthService.signMode.subscribe(e=>{var r,a,s,u,d,m;this.authForm.reset(),this.signMode=e,!1===this.signMode?(null===(r=this.userName)||void 0===r||r.clearValidators(),null===(a=this.confirmPassword)||void 0===a||a.clearValidators()):(null===(s=this.userName)||void 0===s||s.setValidators([n.kI.required]),null===(u=this.confirmPassword)||void 0===u||u.setValidators([this.matchingValidator()])),null===(d=this.userName)||void 0===d||d.updateValueAndValidity(),null===(m=this.confirmPassword)||void 0===m||m.updateValueAndValidity()})}onSubmit(){if(!this.authForm.valid)return;const e=this.authForm.value.email,r=this.authForm.value.password,a=this.authForm.value.userName;this.loading=!0,this.realmAuthService.signMode.getValue()?this.realmAuthService.signUp(e,r,a).subscribe({next:s=>{console.log("signUp"),this.realmAuthService.authStatus.next(!0),this.loading=!1,this.router.navigate(["/pages"])},error:s=>{console.log(s),this.loading=!1}}):this.realmAuthService.login(e,r).subscribe({next:()=>{this.loading=!1,this.realmAuthService.authStatus.next(!0),this.router.navigate(["/pages"])},error:s=>{this.loading=!1,console.log(s)}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(p.F0),o.Y36(h.t))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-auth"]],decls:5,vars:2,consts:[[1,"container","center"],[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["class","centerPosition",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"centerPosition"],[3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","email",1,"neonText"],["type","email","formControlName","email","id","name",1,"form-control"],["class","error",4,"ngIf"],["for","password",1,"neonText"],["type","password","formControlName","password","id","password",1,"form-control"],[1,"bottomContent"],["type","submit",1,"font",3,"disabled"],["for","userName",1,"neonText"],["type","text","formControlName","userName","id","userName",1,"form-control"],[1,"error"],["for","confirmPassword",1,"neonText"],["type","password","formControlName","confirmPassword","id","confirmPassword",1,"form-control"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.YNc(3,_,2,0,"div",3),o.YNc(4,b,19,8,"form",4),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf",r.loading),o.xp6(1),o.Q6J("ngIf",!r.loading))},directives:[f.O5,v.g,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u],styles:[".row[_ngcontent-%COMP%]{justify-content:space-around}.form-group[_ngcontent-%COMP%]{margin-top:2vh}.centerPosition[_ngcontent-%COMP%]{margin:0 -50% 0 0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.error[_ngcontent-%COMP%]{padding-top:5px;color:#c21616;text-shadow:0 0 5px,0 0 10px;font-size:.9rem}input[_ngcontent-%COMP%]{margin-top:1vh}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{box-shadow:0 0 5px red,0 0 10px red}.container[_ngcontent-%COMP%]{margin-top:5rem}a[_ngcontent-%COMP%]{cursor:pointer;color:#fff}.center[_ngcontent-%COMP%]{margin:0 -50% 0 0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.bottomContent[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.font[_ngcontent-%COMP%]{font-family:pacifico,sans-serif;text-shadow:0 0 5px #e60073}button[_ngcontent-%COMP%]{margin-top:2vh;padding:0;cursor:pointer;font-size:1.2rem;font-weight:400;border:0;background-color:#0a0a0a;color:#fff;pointer-events:all}button[_ngcontent-%COMP%]:disabled{color:gray;text-shadow:none;cursor:none;pointer-events:none}button[_ngcontent-%COMP%]:hover{text-shadow:0 0 5px #e60073,0 0 10px #e60073,0 0 15px #e60073}"]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[f.ez,p.Bz.forChild([{path:"",component:q}]),n.UX,g.m]]}),t})()}}]);